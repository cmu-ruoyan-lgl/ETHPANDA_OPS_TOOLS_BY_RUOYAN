# /removeNumber 命令规范

## 触发短语
- `/removeNumber [目标文件]`

## 输入参数
- 必填：`[目标文件]`（工作区现有 Markdown/文档文件名，不含路径时默认仓库根目录）

## 功能描述
删除Markdown文件中的数字编号（如 [1], [2] 等）及其临近空格，同时删除整个**相关链接：**区域内容，并修复文档中的多余空格问题，将修改后的文件保存为 `[目标文件名-去除数字编号]` 格式。

## 处理规则
1. 删除数字编号格式：`[数字]` 及其前后的空格
   - 例如：`[文本](链接) [1] 内容` → `文本内容`
2. 删除整个**相关链接：**区域内容
   - 从 `**相关链接：**` 开始到文档结尾的所有内容
3. 修复文档中的多余空格问题：
   - 中英文之间的多余空格：`API ` → `API`
   - 技术术语之间的多余空格：`Vitalik  Buterin` → `Vitalik Buterin`
   - 链接和文本之间的多余空格
   - 保留数字和中文的空格如`2001 年`,`共有 9 个人`
4. 保持其他格式不变（如加粗、斜体、列表等）
5. **重要：确保删除数字编号时同时删除其临近的空格**

## 执行流程
1. 读取目标文件内容
2. 使用正则表达式匹配并删除数字编号及其临近空格
3. 识别并删除**相关链接：**区域内容
4. 修复文档中的多余空格问题
5. 生成修改后的内容
6. 保存为 `[目标文件名-去除数字编号]` 格式
7. 输出文件与目标文件在同一目录下

## 正则表达式规则
- 数字编号及其前后空格：`\s*\[\d+\]\s*`
- 相关链接区域：`\*\*相关链接：\*\*.*$`（从相关链接开始到文档结尾）
- 或者：`\*\*相关链接：\*\*.*?(?=\n##|\Z)`（从相关链接开始到下一个二级标题或文档结尾）
- 多余空格修复：
  - 中英文间多余空格：`([a-zA-Z])\s+([\u4e00-\u9fa5])` → `$1$2`
  - 技术术语间多余空格：`([A-Za-z0-9])\s+([A-Za-z0-9])` → `$1$2`

## 示例转换
- 输入：`疫苗时间的巨大差异 [1]。较富有的国家`
- 输出：`疫苗时间的巨大差异。较富有的国家`

- 输入：`像 Balvi [7] 资助的 PopVax [8] 这样的疫苗`
- 输出：`像 Balvi 资助的 PopVax 这样的疫苗`

- 输入：
  ```
  这是正文内容。
  
  **相关链接：**
  - 链接1
  - 链接2
  ```
- 输出：`这是正文内容。`

## 产物约束
- 输出文件名格式：`[原文件名-去除数字编号]`
- 保持原文件的其他格式不变
- 删除数字编号和相关链接区域
- 修复文档中的多余空格问题
- 输出文件与目标文件在同一目录下

## 校验清单
- [ ] 已读取目标文件内容
- [ ] 正确识别并删除所有数字编号格式
- [ ] 删除数字编号时同时删除其临近空格
- [ ] 正确识别并删除**相关链接：**区域内容
- [ ] 修复文档中的多余空格问题
- [ ] 保持其他格式不变
- [ ] 输出文件命名正确
- [ ] 输出文件位置正确（同目录下）

## 示例
- 输入：`/removeNumber 某文档.md`
- 输出：`某文档-去除数字编号.md`（删除所有数字编号和相关链接区域，修复多余空格）
