# /removeLink 命令规范

## 触发短语
- `/removeLink [目标文件]`

## 输入参数
- 必填：`[目标文件]`（工作区现有 Markdown/文档文件名，不含路径时默认仓库根目录）

## 功能描述
去除Markdown文件中的超链接部分，保留链接文本内容，将修改后的文件保存为 `[目标文件名-去除超链接]` 格式。

## 处理规则
1. 识别并处理内嵌链接格式：`[<u>文本</u>](链接) [数字编号]`
   - 转换为：`<u>文本</u> [数字编号]`
2. 识别并处理普通链接格式：`[文本](链接)`
   - 转换为：`文本`
3. 识别并处理带编号的链接格式：`[文本](链接) [数字编号]`
   - 转换为：`文本 [数字编号]`
4. 识别并处理内嵌链接无编号格式：`[<u>文本</u>](链接)`
   - 转换为：`<u>文本</u>`
5. 保持其他格式不变（如加粗、斜体、列表等）
6. **重要：确保链接文本和编号之间保留空格**

## 执行流程
1. 读取目标文件内容
2. 使用正则表达式匹配并替换各种链接格式
3. 生成修改后的内容
4. 保存为 `[目标文件名-去除超链接]` 格式
5. 输出文件与目标文件在同一目录下

## 正则表达式规则
- 内嵌链接带编号：`\[<u>([^<]+)</u>\]\([^)]+\)\s+(\[\d+\])`
- 内嵌链接无编号：`\[<u>([^<]+)</u>\]\([^)]+\)`
- 普通链接带编号：`\[([^\]]+)\]\([^)]+\)\s+(\[\d+\])`
- 普通链接无编号：`\[([^\]]+)\]\([^)]+\)`

## 示例转换
- 输入：`疫苗时间的[<u>巨大差异</u>](https://www.ucl.ac.uk/bartlett/news/2025/apr/new-research-finds-substantial-global-disparities-covid-19-vaccine-accessibility) [1]。较富`
- 输出：`疫苗时间的<u>巨大差异</u> [1]。较富`

- 输入：`像 <u>Balvi</u>[7] 资助的 <u>PopVax</u>[8] 这样的疫苗`
- 输出：`像 <u>Balvi</u> [7] 资助的 <u>PopVax</u> [8] 这样的疫苗`

## 产物约束
- 输出文件名格式：`[原文件名-去除超链接]`
- 保持原文件的其他格式不变
- 仅去除链接部分，保留链接文本和编号
- 输出文件与目标文件在同一目录下

## 校验清单
- [ ] 已读取目标文件内容
- [ ] 正确识别并处理各种链接格式
- [ ] 保留链接文本和编号
- [ ] 保持其他格式不变
- [ ] 输出文件命名正确
- [ ] 输出文件位置正确（同目录下）

## 示例
- 输入：`/removeLink 某文档.md`
- 输出：`某文档-去除超链接.md`（去除所有链接，保留文本内容）
