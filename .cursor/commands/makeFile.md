# /makeFile 命令规范

## 触发短语
- `/makeFile @[原文件名]`
- 可选：`/makeFile 发布内容页 <主题>`（按主题定制内容要点与案例）

## 输入参数
- 必填：`@[原文件名]`（工作区现有 Markdown/文档文件名，不含路径时默认仓库根目录）

## 资料读取
- 递归读取并综合 `rules/` 目录全部文件
- `rules/standardFile.md` 最高优先级（模板/章节/必填字段）
- 其余文件用于充实内容与细节；出现冲突按优先级解决
  
## 检查项目

> **重要提示**：当前的文章将用于公众号发布，请检查确保语言流畅，语法正确，所有带有超链接的地方后面都有' [数字编号] '，如果数字编号后面有中文，请用空格隔开，如'[文本](链接) [数字编号] 其他文本'，最后的超链接部分也是完整的，翻译后要对表达进行优化，使其更符合中文习惯：。

## 执行流程
1. 解析 `rules/standardFile.md` 的章节框架与必填字段
2. 融合 `rules/` 其他规则与示例
3. 将原文件内容翻译为中文，并按 `standardFile.md` 主干章节进行结构化整理（仅结构重排，不改变原文语义，不要添加类似于正文占位的东西；同时移除正文小节标题前的列表前缀，例如 `- **关于**：` 改为 `**关于**：`）
4. 修正正文格式问题：
   - 将独立的加粗标题（如 `**标准化以太坊上的代理到代理协议**`）改为列表项格式（如 `- 标准化以太坊上的代理到代理协议`）
   - 保持重要关键词的加粗格式（如 `- **对AI的深度兴趣**：代理系统和去中心化协议`）和斜体格式要使用(*斜体文字*)
   - 确保列表项使用 `-` 开头，避免使用加粗标题作为独立段落
   - 删除正文段落之间的空行，保持段落连续
   - 删除相关链接部分每个链接之间的空行，保持链接连续
   - 保留标题和文本之间的空行，保持层次结构
5. 生成"发布内容页"Markdown 文档（默认全量版本；节选版需在指令中显式声明）
6. 应用链接与编号规范：正文首次出现来源使用内嵌链接并紧随编号 `[n]`；文末"相关链接/参考"保留完整映射；相同来源后续不重复编号；链接文本需要加下划线（如 `[<u>巨大差异</u>](链接) [1]` 而非 `[巨大差异](链接) [1]`）
7. 命名输出文件：`[原文件名]-发布内容页.md`，输出文件应该和原文件在同一目录下
8. 依据模板删除多余元信息（日期/版本/不进入发布内容页），仅保留：
   - 作者
   - 原文/参考链接
   - 标题
   - 引言
   - 正文
   - 相关链接（含编号映射）
   - SOP相关

## 产物约束
- 文档结构需符合 `rules/standardFile.md`
- 统一中文输出与 2 空格缩进
- 链接采用内嵌链接 + 首次编号，末尾映射完整
- 链接文本需要加下划线（如 `[<u>文本</u>](链接) [n]`）
- 中英文之间需要增加空格
- 中文与数字之间需要增加空格
- 数字与单位之间需要增加空格
- 度数／百分比与数字之间不需要增加空格
- 全形标点与其他字符之间不加空格
- 超链接之间增加空格
- 文件命名必须为 `[原文件名]-发布内容页.md`
- 正文小节标题不得以列表项开头（不得出现 `- **标题**：` 形式）
- 正文列表项使用 `-` 开头，避免独立的加粗标题段落
- 重要关键词在列表项中保持加粗格式
- 正文段落之间无空行，保持段落连续
- 相关链接部分链接之间无空行，保持链接连续
- 标题和文本之间保留空行，保持层次结构

## 校验清单
- [ ] 已读取并综合 `rules/` 下全部文件
- [ ] 结构与字段符合 `rules/standardFile.md`
- [ ] 无多余元信息（日期/版本/公众号合集）
- [ ] 行动项清晰、无二义
- [ ] 引用与参考列出关键规则文件
- [ ] 正文格式正确：列表项使用 `-` 开头，避免独立的加粗标题段落
- [ ] 重要关键词在列表项中保持加粗格式
- [ ] 正文段落之间无空行，保持段落连续
- [ ] 相关链接部分链接之间无空行，保持链接连续
- [ ] 标题和文本之间保留空行，保持层次结构
- [ ] 链接文本已加下划线（如 `[<u>文本</u>](链接) [n]`）
- [ ] 在对话栏提醒用户“这部分文字即将发到微信公众号上，请帮我调整语言，使其顺畅，无歧义”

## 示例
- 输入：`/makeFile @Member of AI Staff.md`
- 输出：`Member of AI Staff-发布内容页.md`（满足上述结构与约束）
